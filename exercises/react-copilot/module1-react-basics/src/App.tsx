// Generated by Copilot
// Main App component for Module 1: React Basics
// Podstawowy komponent aplikacji do zarządzania filmami
import React, { useState } from 'react';
import { Movie } from '@/types/Movie';
import { MovieList } from '@/components/MovieList';
import { MovieDetail } from '@/components/MovieDetail';

function App() {
  // Stan wybranego filmu
  const [selectedMovie, setSelectedMovie] = useState<Movie | null>(null);
  const [currentView, setCurrentView] = useState<'list' | 'detail'>('list');

  // Mock data dla development
  const mockMovies: Movie[] = [
    {
      id: '1',
      title: 'Oppenheimer',
      director: 'Christopher Nolan',
      ticketPrice: 25.99,
      releaseDate: '2023-07-21'
    },
    {
      id: '2',
      title: 'Barbie',
      director: 'Greta Gerwig',
      ticketPrice: 22.50,
      releaseDate: '2023-07-21'
    },
    {
      id: '3',
      title: 'Dune: Part Two',
      director: 'Denis Villeneuve',
      ticketPrice: 28.00,
      releaseDate: '2024-03-01'
    },
    {
      id: '4',
      title: 'Spider-Man: Across the Spider-Verse',
      director: 'Joaquim Dos Santos',
      ticketPrice: 24.99,
      releaseDate: '2023-06-02'
    },
    {
      id: '5',
      title: 'John Wick: Chapter 4',
      director: 'Chad Stahelski',
      ticketPrice: 26.50,
      releaseDate: '2023-03-24'
    },
    {
      id: '6',
      title: 'Avatar: The Way of Water',
      director: 'James Cameron',
      ticketPrice: 32.99,
      releaseDate: '2024-09-15'
    }
  ];

  // Funkcja obsługi kliknięcia w film
  const handleMovieClick = (movie: Movie) => {
    setSelectedMovie(movie);
    setCurrentView('detail');
  };

  // Funkcja powrotu do listy
  const handleBackToList = () => {
    setCurrentView('list');
    setSelectedMovie(null);
  };

  return (
    <div className="app">
      <header className="app-header">
        <h1>🎬 Movie Management App</h1>
        <p>Module 1: React Basics with GitHub Copilot</p>
        {currentView === 'detail' && selectedMovie && (
          <button 
            className="back-button"
            onClick={handleBackToList}
          >
            ← Powrót do listy filmów
          </button>
        )}
      </header>
      
      <main className="app-main">
        {currentView === 'list' ? (
          <>
            <section className="movie-section">
              <MovieList 
                movies={mockMovies}
                onMovieClick={handleMovieClick}
              />
            </section>
            
            <section className="development-info">
              <h3>🚧 Development Status</h3>
              <ul>
                <li>✅ Phase 1: Project Structure</li>
                <li>✅ Phase 2: Core Types & Interfaces</li>
                <li>✅ Phase 3: MovieList Component</li>
                <li>✅ Phase 4: MovieDetail Component</li>
                <li>⏳ Phase 5: useMovies Hook</li>
                <li>⏳ Phase 6: AddMovieForm Component</li>
                <li>⏳ Phase 7: Search & Sort Features</li>
                <li>⏳ Phase 8: Final Integration</li>
              </ul>
              <div className="phase-info">
                <h4>✨ Phase 4 Features:</h4>
                <ul>
                  <li>🎬 Detailed MovieDetail component</li>
                  <li>�🇱 Advanced Polish formatting (dates, currency)</li>
                  <li>⚡ Conditional rendering for null/undefined</li>
                  <li>📊 Price categorization (Budget/Standard/Premium)</li>
                  <li>⏰ Movie age calculation</li>
                  <li>🎨 Beautiful responsive design</li>
                  <li>🔄 Interactive movie selection</li>
                </ul>
              </div>
            </section>
          </>
        ) : (
          <section className="movie-detail-section">
            <MovieDetail movie={selectedMovie} />
          </section>
        )}
      </main>
    </div>
  );
}

export default App;