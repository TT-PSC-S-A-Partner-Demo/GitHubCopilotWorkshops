// Generated by Copilot
// Main App component for Module 1: React Basics
// Podstawowy komponent aplikacji do zarzƒÖdzania filmami
import { useState } from 'react';
import { Movie } from '@/types/Movie';
import { MovieList } from '@/components/MovieList';
import { MovieDetail } from '@/components/MovieDetail';
import { useMovies } from '@/hooks';

function App() {
  // Stan wybranego filmu i widoku
  const [selectedMovie, setSelectedMovie] = useState<Movie | null>(null);
  const [currentView, setCurrentView] = useState<'list' | 'detail'>('list');

  // U≈ºycie custom hook do zarzƒÖdzania filmami
  const { 
    movies, 
    loading, 
    error, 
    refreshMovies 
  } = useMovies();

  // Funkcja obs≈Çugi klikniƒôcia w film
  const handleMovieClick = (movie: Movie) => {
    setSelectedMovie(movie);
    setCurrentView('detail');
  };

  // Funkcja powrotu do listy
  const handleBackToList = () => {
    setCurrentView('list');
    setSelectedMovie(null);
  };

  return (
    <div className="app">
      <header className="app-header">
        <h1>üé¨ Movie Management App</h1>
        <p>Module 1: React Basics with GitHub Copilot</p>
        {currentView === 'detail' && selectedMovie && (
          <button 
            className="back-button"
            onClick={handleBackToList}
          >
            ‚Üê Powr√≥t do listy film√≥w
          </button>
        )}
      </header>
      
      <main className="app-main">
        {currentView === 'list' ? (
          <section className="movie-section">
            {loading ? (
              <div className="loading-state">
                <h2>‚è≥ ≈Åadowanie film√≥w...</h2>
                <p>Proszƒô czekaƒá, pobieramy dane o filmach.</p>
              </div>
            ) : error ? (
              <div className="error-state">
                <h2>‚ùå WystƒÖpi≈Ç b≈ÇƒÖd</h2>
                <p>{error}</p>
                <button 
                  className="refresh-button"
                  onClick={refreshMovies}
                >
                  üîÑ Spr√≥buj ponownie
                </button>
              </div>
            ) : (
              <MovieList 
                movies={movies}
                onMovieClick={handleMovieClick}
              />
            )}
          </section>
        ) : (
          <section className="movie-detail-section">
            <MovieDetail movie={selectedMovie} />
          </section>
        )}
      </main>
    </div>
  );
}

export default App;